!function(t){function e(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return t[a].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var i=n(1);a(i)},function(t,e){"use strict";function n(){var t=window,e=document,n=e.documentElement,a=e.getElementsByTagName("body")[0],i=t.innerWidth||n.clientWidth||a.clientWidth,s=t.innerHeight||n.clientHeight||a.clientHeight;return{width:i,height:s}}document.addEventListener("DOMContentLoaded",function(t){function e(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="json",n.onload=function(){var t=n.status;200==t?e(null,n.response):e(t)},n.send()}setTimeout(function(){$(".animate-number").each(function(){$(this).prop("Counter",0).animate({Counter:$(this).text()},{duration:2e3,easing:"swing",step:function(t){$(this).text(Math.ceil(t))}})})},2e3);var a,i=n(),s=void 0;i.width<=500?(s="mobile",a=200):(s="laptop",a=460);var o="...",r="keep reading",d="Show less";$(".project-description").each(function(){var t=$(this).html();if(t.length>a){var e=t.substr(0,a),n=t.substr(a,t.length-a),i=e+'<span class="moreellipses">'+o+'&nbsp;</span><span class="morecontent"><span>'+n+'</span><a href="" class="morelink">'+r+"</a></span>";$(this).html(i)}}),$(".morelink").click(function(){return $(this).hasClass("less")?($(this).removeClass("less"),$(this).html(r)):($(this).addClass("less"),$(this).html(d)),$(this).parent().prev().toggle(),$(this).prev().toggle(),!1}),"laptop"===s?($(".briefs-column").sticky({topSpacing:62}),$(".filter-column").sticky({topSpacing:62}),$(".about-advertisement").sticky({topSpacing:62})):$(".mobile-tab-area").sticky({topSpacing:0}),e("http://protograph.indianexpress.com/49a045aea2b71456f5d04f4a/index.json",function(t,e){if(null!=t)alert("Something went wrong: "+t);else{var n=e[e.length-1].date.split("-"),a=new Date(e[e.length-1].date).toLocaleDateString("en-US",{month:"short"}),i=e[0].date.split("-"),s=new Date(e[0].date).toLocaleDateString("en-US",{month:"short"}),o=a+" "+n[2]+", "+n[0],r=s+" "+i[2]+", "+i[0],d=e.length.toString().length;if(3!==d)document.getElementById("first-number").innerHTML=0;else{var c=document.getElementById("first-number");c.parentNode.removeChild(c)}if(1===d)document.getElementById("second-number").innerHTML=0;else{var l=document.getElementById("second-number");l.parentNode.removeChild(l)}document.getElementById("animate-number").innerHTML=e.length,document.getElementById("start-date").innerHTML=o,document.getElementById("end-date").innerHTML=r}}),e("http://protograph.indianexpress.com/be0b3c8854f0b1e774b96580/index.json",function(t,e){null!=t?alert("Something went wrong: "+t):!function(){var t="";e.map(function(e,n){var a=e.screen_shot_url,i=e.date.split("-"),s=new Date(e.date).toLocaleDateString("en-US",{month:"short"});t+='<div id="ProtoCard-'+n+'" class="mob-justice-incidents"><img class="card-image" src="'+a+'" width="100%;"/><div class="protograph-gradient"><div class="data-card-content"><div class="data-card-title">'+e.title+'</div><div class="data-card-date">'+s+" "+i[2]+", "+i[0]+" | "+e.state.substring(0,13)+"</div></div></div></div>",document.getElementById("display-cards").innerHTML=t});var a=n(),i=void 0;i=a.width<=450?"mobile":"laptop";for(var s=function(t){var n=document.createElement("div");n.id="ProtoCard-"+t,document.getElementById("ProtoCard-"+t).setAttribute("data-toggle","modal"),document.getElementById("ProtoCard-"+t).setAttribute("data-target","#proto-modal"),document.getElementById("ProtoCard-"+t).addEventListener("click",function(n){$("#proto-modal").modal("show"),$("#proto-modal").on("hidden.bs.modal",function(){var t=document.querySelector("#proto-embed-card iframe");t.parentNode.removeChild(t)}),"laptop"===i?new ProtoEmbed.initFrame(document.getElementById("proto-embed-card"),e[t].iframe_url,"laptop"):new ProtoEmbed.initFrame(document.getElementById("proto-embed-card"),e[t].iframe_url,"mobile",!0)}),$(".modal-close").click(function(){$("#proto-modal").modal("hide")})},o=0;o<e.length;o++)s(o)}()}),e("http://protograph.indianexpress.com/948123634d965de58d04623d/index.json",function(t,e){null!=t?alert("Something went wrong: "+t):e.map(function(t,n){var a=document.createElement("div");a.id="ProtoCard-article"+n,a.className="ProtoCard-article",document.getElementById("display-stories").appendChild(a),new ProtoEmbed.initFrame(document.getElementById("ProtoCard-article"+n),e[n].iframe_url,e[n].default_view)})}),e("http://protograph.indianexpress.com/toReportViolence/twitter.json",function(t,e){if(null!=t)alert("Something went wrong: "+t);else{var n="";e.map(function(t,e){var a=t.date.split(" "),i=a[0].slice(0,3),s=a[1],o=a[2];n+='<a href="'+t.canonical+'" target="_blank" class="protograph-url"><div class="proto-card tolink-card"><div class="briefs-layout"><div class="card-text">'+t.description+'</div><div class="by-time-line"><div class="by-line">'+t.author+'</div></div><div class="hint-text">'+i+" "+s+" "+o+"</div></div></div></a>",document.getElementById("display-tweets").innerHTML=n})}}),setInterval(function(){e("http://protograph.indianexpress.com/toReportViolence/twitter.json",function(t,e){if(null!=t)alert("Something went wrong: "+t);else{var n="";e.map(function(t,e){var a=t.date.split(" "),i=a[0].slice(0,3),s=a[1],o=a[2];n+='<a href="'+t.canonical+'" target="_blank" class="protograph-url"><div class="proto-card tolink-card"><div class="briefs-layout"><div class="card-text">'+t.description+'</div><div class="by-time-line"><div class="by-line">'+t.author+'</div></div><div class="hint-text">'+i+" "+s+" "+o+"</div></div></div></a>",document.getElementById("display-tweets").innerHTML=n})}})},6e4),"mobile"===s&&($("#articles-tab").on("click",function(){$(this).addClass("tabs-active-class"),$("#cards-tab").removeClass("tabs-active-class"),$("#chatter-tab").removeClass("tabs-active-class"),$(".cards-section").css("display","none"),$(".chatter-section").css("display","none"),$(".stories-section").css("display","block")}),$("#cards-tab").on("click",function(){$(this).addClass("tabs-active-class"),$("#articles-tab").removeClass("tabs-active-class"),$("#chatter-tab").removeClass("tabs-active-class"),$(".stories-section").css("display","none"),$(".chatter-section").css("display","none"),$(".cards-section").css("display","block")}),$("#chatter-tab").on("click",function(){$(this).addClass("tabs-active-class"),$("#cards-tab").removeClass("tabs-active-class"),$("#articles-tab").removeClass("tabs-active-class"),$(".stories-section").css("display","none"),$(".cards-section").css("display","none"),$(".chatter-section").css("display","block"),$("#sticky-wrapper").css("display","block")}))})}]);